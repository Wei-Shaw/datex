/*!
 * datex v1.0.0
 * a datetime format library
 * https://passer-by.com/datex/
 *
 * Copyright (c) 2022-present, HaoLe Zheng
 *
 * Released under the MIT License
 * https://github.com/mumuy/datex
 *
 * Created on: 2023-04-12
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).datex=t()}(this,(function(){"use strict";let e={"en-US":{MMM:["Jan.","Feb.","Mar.","Apr.","May.","Jun.","Jul.","Aug.","Sept.","Oct.","Nov.","Dec."],MMMM:["January","February","March","April","May","June","July","August","September","October","November","December"],Do:["1st","2nd","3rd","4th","5th","6th","7th","8th","9th","10th","11th","12th","13th","14th","15th","16th","17th","18th","19th","20th","21st","22nd","23rd","24th","25th","26th","27th","28th","29th","30th","31st"],W:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],w:["Sun.","Mon.","Tues.","Wed.","Thur.","Fri.","Sat."]},"zh-CN":{MMM:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],MMMM:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],Do:["1日","2日","3日","4日","5日","6日","7日","8日","9日","10日","11日","12日","13日","14日","15日","16日","17日","18日","19日","20日","21日","22日","23日","24日","25日","26日","27日","28日","29日","30日","31日"],W:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],w:["周日","周一","周二","周三","周四","周五","周六"]}},t=e["en-US"];function n(){return new n.prototype.init(...arguments)}function a(e){return e instanceof n||(e=n(e)),e}return"undefined"!=typeof self&&self.navigator&&(t=e[self.navigator.language]),n.prototype={_date:null,init:function(){return arguments.length>=3&&arguments[1]--,this._date=new Date(...arguments),this},getTime(){return this._date.getTime()},getUnix(){return~~(this._date.getTime()/1e3)},clone(){return n(this.getTime())},toDate(){return this._date},toObject(){let e=this._date;return{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate(),hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millsecond:e.getMilliseconds(),timestamp:e.getTime(),week:e.getDay()}},toArray(){let e=this.toObject();return[e.year,e.month,e.day,e.hour,e.minute,e.second,e.millsecond]},toString(){return this._date.toString()},toISOString(){return this._date.toISOString()},set(e,t){let n=this._date,a=this.toObject();switch(e){case"year":n.setFullYear(t);break;case"month":n.setMonth(t-1);break;case"day":n.setDate(t);break;case"hour":n.setHours(t);break;case"minute":n.setMinutes(t);break;case"second":n.setSeconds(t);break;case"millsecond":n.setMilliseconds(t);break;case"timestamp":n.setTime(t);break;case"week":let e=a.week-t;n.setDate(a.day-e)}return this},get(e){return this.toObject()[e]},change(e,t){let n=this.toObject();return this.set(e,n[e]+t)},format(e="YYYY-MM-DD HH:mm:ss"){let n=this._date,a=this.toObject(),r=n.toTimeString().match(/GMT([\+\-])(\d{2})(\d{2})/),s={YYYY:""+a.year,YY:(""+a.year).padStart(2,"0"),MM:(""+a.month).padStart(2,"0"),M:""+a.month,DD:(""+a.day).padStart(2,"0"),D:""+a.day,HH:(""+a.hour).padStart(2,"0"),H:""+a.hour,hh:(""+a.hour%12).padStart(2,"0"),h:""+a.hour%12,mm:(""+a.minute).padStart(2,"0"),m:""+a.minute,ss:(""+a.second).padStart(2,"0"),s:""+a.second,S:""+~~(a.millsecond%1e3/100),SS:""+~~(a.millsecond%1e3/10),SSS:""+a.millsecond%1e3,Z:r[1]+r[2]+":"+r[3],ZZ:r[1]+r[2]+r[3],A:["AM","PM"][~~(a.hour/12)],a:["am","pm"][~~(a.hour/12)],X:~~(a.timestamp/1e3),x:a.timestamp,Q:""+~~(a.month/3)};return s.MMM=t.MMM[a.month-1],s.MMMM=t.MMMM[a.month-1],s.Do=t.Do[a.day-1],s.W=t.W[a.week],s.w=t.w[a.week],e.replace(/Y+|M+|D+|H+|h+|m+|s+|S+|Z+|Do|A|a|X|x|Q|W|w/g,(function(e){return s[e]||""}))},startOf(e){let t=this.toObject(),a=null;switch(e){case"year":a=n(t.year,1,1,0,0,0,0);break;case"month":a=n(t.year,t.month,1,0,0,0,0);break;case"day":a=n(t.year,t.month,t.day,0,0,0,0);break;case"hour":a=n(t.year,t.month,t.day,t.hour,0,0,0);break;case"minute":a=n(t.year,t.month,t.day,t.hour,t.minute,0,0);break;case"second":a=n(t.year,t.month,t.day,t.hour,t.minute,t.second,0);break;case"millsecond":case"timestamp":a=this.clone();break;case"week":a=n(t.year,t.month,t.day-t.week,0,0,0,0)}return a},endOf(e){return this.toObject(),this.startOf(e).change(e,"week"==e?7:1).change("millsecond",-1)},diffWith(e,t){if(e=a(e),isNaN(e.getTime()))return!1;let n={day:864e5,hour:36e5,minute:6e4,second:1e3,millsecond:1,timestamp:1},r=this.getTime()-e.getTime(),s=0;if(t){if(n[t])s=~~(r/n[t]);else if("month"==t){s=12*(this.get("year")-1)+this.get("month")-(12*(e.get("year")-1)+e.get("month")),s<0&&this.get("day")>e.get("day")?s+=1:s>0&&this.get("day")<e.get("day")&&(s-=1)}else"year"==t&&(s=this.get("year")-e.get("year"),s<0&&(this.get("month")>e.get("month")||this.get("month")==e.get("month")&&this.get("day")>e.get("day"))?s+=1:s>0&&(this.get("month")<e.get("month")||this.get("month")==e.get("month")&&this.get("day")<e.get("day"))&&(s-=1));return s}{let t=this.clone(),n={};return["year","month","day","hour","minute","second","millsecond"].forEach((function(a){n[a]=t.diffWith(e,a),t.set(a,e.get(a))})),n}},isBefore(e,t="millsecond"){return e=a(e),this.get(t)<e.get(t)},isAfter(e,t="millsecond"){return e=a(e),this.get(t)>e.get(t)},isSame(e,t="millsecond"){return e=a(e),this.get(t)==e.get(t)},isBetween(e,t,n="millsecond"){return e=a(e),t=a(t),this.get(n)>e.get(n)&&this.get(n)<t.get(n)}},n.prototype.init.prototype=n.prototype,n}));
